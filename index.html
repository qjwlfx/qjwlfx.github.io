<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui">
    <meta name="referrer" content="no-referrer">

    <style type="text/css">
      html, body {width:100%;height:100%;margin:auto;overflow: hidden;}
      body {display:flex;}
      #mse {flex:auto;}
    </style>
    <script type="text/javascript">
      window.addEventListener('resize',function(){document.getElementById('mse').style.height=window.innerHeight+'px';});
    </script>
  </head>
  <body>
    <div id="mse"></div>
    <script src="https:////unpkg.byted-static.com/xgplayer/2.31.2/browser/index.js" charset="utf-8"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script type="text/javascript">
      function getQueryString(name) {
        var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
        var r = window.location.search.substr(1).match(reg);
        if (r != null) {
          return unescape(r[2]);
        }
        return null;
      }

      axios.post('https://heedh.cn/get_video', {
        id: getQueryString("video")
      }).then(function (response) {
        if (response.data.code == 1){
          document.title = response.data.title
          let player=new Player({
            id: 'mse',
            autoplay: true,
            volume: 0.8,
            url: response.data.url,
            playsinline: true,
            height: window.innerHeight,
            width: window.innerWidth
          });
        }else{
          alert("404 网页未找到 清净网络提供")
        }

        })
        .catch(function (error) {
          console.log(error);
        });

    </script>
  </body>
</html>
